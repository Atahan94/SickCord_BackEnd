let updateUser,getUser;_8d2‍.x([["default",()=>_8d2‍.o]]);_8d2‍.w("../../../controller/user",[["updateUser",["updateUser"],function(v){updateUser=v}],["getUser",["getUser"],function(v){getUser=v}]]);

const addFriends =  async (req, res) => {
    try {
      const {name , type} = req.body
      const user = await getUser(name);

      if (!user) {
        res.status(404).json({ error: "User not found" });
        return;
      }

      await updateUser(user._id, { $push: { invitations: {name: req.session.user.name, type: type} } })
      _8d2‍.g.console.log("FRİENDS", user)

      res.status(200).json({res: "sucessfully send invitation"});
      return Promise.resolve();
    } catch (error) {
      _8d2‍.g.console.log("error on the request", error)
      res.status(500).json({code: error});
    }
  };

  _8d2‍.d(addFriends);