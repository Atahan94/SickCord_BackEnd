let Server;_91a‍.x([["createServer",()=>createServer],["deleteServer",()=>deleteServer],["updateServer",()=>updateServer],["getServerById",()=>getServerById]]);_91a‍.w("../models/Server",[["default",["Server"],function(v){Server=v}]]);

       const createServer = async ({ name, owner, image }) => {
  try {
    /* console.log("NAME SERVER", name) */
    const server = await Server.create({
      name,
      owner,
      members: [owner],
      image: {
        data: image.buffer,
        contentType: image.mimetype,
      },
    });

    return Promise.resolve({
      serverID: server._id,
    });
  } catch (error) {
    return Promise.reject({ error });
  }
};

       const deleteServer = async ({ id }) => {
  try {
    await Server.findByIdAndDelete(id);

    return Promise.resolve({
      result: "sucessfully deleted",
    });
  } catch (error) {
    return Promise.reject({ error });
  }
};
       const updateServer = async (id, contents, options = {}) => {
  try {
    await Server.findByIdAndUpdate(
      id, // id of the User to update
      contents, // push the new server id to the servers array
      { ...options }
    );

    return Promise.resolve();
  } catch (error) {
    return Promise.reject({ error });
  }
};

       const getServerById = (id) => Server.findById(id);
