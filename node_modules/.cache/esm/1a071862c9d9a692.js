let loginUser;_c9d‍.x([["default",()=>_c9d‍.o]]);_c9d‍.w("../../controller/user",[["loginUser",["loginUser"],function(v){loginUser=v}]]);

const login =  async (req, res) => {
    try {
      const {email, password} = req.body
      const {user, token} = await loginUser({email, password});
      req.session.user = {
        id: user.id,
        name: user.name,
        email: user.email,
      };
      res.status(200).json({token, user});
      return Promise.resolve();
    } catch (error) {
      _c9d‍.g.console.log("error on the request", error)
      res.status(500).json({code: error});
    }
  };

  _c9d‍.d(login);