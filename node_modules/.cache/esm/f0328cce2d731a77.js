let getUser,getServerById;_2d7‍.x([["default",()=>_2d7‍.o]]);_2d7‍.w("../../../controller/user",[["getUser",["getUser"],function(v){getUser=v}]]);_2d7‍.w("../../../controller/server",[["getServerById",["getServerById"],function(v){getServerById=v}]]);


const getInvitations =  async (req, res) => {
    try {
      const user = await getUser(req.session.user.name);
      
      const userInvitations = [];
      const serverInvitations = [];
  
      user.invitations.forEach(invitation => {
        invitation.type === 'user'? userInvitations.push(invitation) : serverInvitations.push(invitation)
      });
  
      const invitationsResponse = {
        user: userInvitations,
        server: serverInvitations
      };
      
      res.status(200).json(invitationsResponse);
      return Promise.resolve();
    } catch (error) {
      _2d7‍.g.console.log("error on the request", error)
      res.status(500).json({code: error});
    }
  };

  _2d7‍.d(getInvitations);