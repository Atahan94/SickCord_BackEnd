let Server;_838‍.x([["createServer",()=>createServer],["deleteServer",()=>deleteServer],["updateServer",()=>updateServer]]);_838‍.w("../models/Server",[["default",["Server"],function(v){Server=v}]]);

       const createServer = async ({ name, owner}) => {
    try {
      _838‍.g.console.log("NAME SERVER", name)
      const server = await Server.create({name, owner,  members: [owner]  });

      return Promise.resolve({
        serverID: server._id,
      });
    } catch (error) {
      return Promise.reject({ error });
    }
  };


         const deleteServer = async ({id}) => {
  try {
    await Server.findByIdAndDelete(id);

    return Promise.resolve({
      result: "sucessfully deleted",
    });
  } catch (error) {
    return Promise.reject({ error });
  }
 }
         const updateServer = async ({id, contents, options ={}}) => {
  try {
    _838‍.g.console.log("Server Controller Update", id, contents )
    await Server.findByIdAndUpdate(
      id, // id of the User to update
      contents , // push the new server id to the servers array
      { ...options}
    );

    return Promise.resolve({
      result: "sucessfully created a channel",
    });
  } catch (error) {
    return Promise.reject({ error });
  }
 }


 
  